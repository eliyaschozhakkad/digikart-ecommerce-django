{% extends 'admin/adminbase.html' %}

{% block content %}

<section class="section-conten mt-3 bg">
  <div class="container">
    <h1 class="text-center h2 mb-4">Admin Dashboard</h1>
     <div class="row">
      
      {% include 'admin/adminincludes/admindashboard.html' %}
     <main class="col-md-9">
        <div class="row">
          <div class="col-sm-6 text-center mb-2 ">
            <div class="card">
              <div class="card-body">
                <h5 class="card-title">Total Users </h5>
                <p class="card-title h4 mb-3">{{ user_count }}</p>
                <a href="{% url 'admin_user' %}" class="btn btn-outline-dark">View Users</a>
              </div>
            </div>
          </div>
          <div class="col-sm-6 text-center mb-2">
            <div class="card">
              <div class="card-body">
                <h5 class="card-title">Total Products</h5>
                <p class="card-title h4 mb-3">{{ product_count }}</p>
                <a href="{% url 'admin_product' %}" class="btn btn-outline-dark">View Products</a>
              </div>
            </div>
          </div>
          <div class="col-sm-6 text-center mb-2">
            <div class="card">
              <div class="card-body">
                <h5 class="card-title">Product Category</h5>
                <p class="card-title h4 mb-3">{{ category_count }}</p>
                <a href="{% url 'admin_category' %}" class="btn btn-outline-dark">View Categories</a>
              </div>
            </div>
          </div>
          <div class="col-sm-6 text-center mb-2">
            <div class="card">
              <div class="card-body">
                <h5 class="card-title">Total Orders</h5>
                <p class="card-title h4 mb-3">{{ order_count }}</p>
                <a href="{% url 'admin_order' %}" class="btn btn-outline-dark">View Orders</a>
              </div>
            </div>
          </div>  
          
        </div>
        <div class="d-flex">
        <div class="w-50"> 
          <canvas id="myChart" width="150" height="150"></canvas>
        </div>
        <div class="w-50"> 
          <canvas id="myChart2" width="150" height="150"></canvas>
        </div>
      </div>
        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  
        <script>
          const ctx = document.getElementById('myChart');
  
          new Chart(ctx, {
            type: 'doughnut',
            data: {
              labels: ['Order', 'Product', 'User', 'Category'],
              datasets: [{
                label: '',
                data: ['{{order_count}}', '{{product_count}}', '{{user_count}}', '{{category_count}}'],
                borderWidth: 1
              }]
            },
            options: {
              scales: {
                y: {
                  beginAtZero: true
                }
              }
            }
          });

          const ctxy = document.getElementById('myChart2');
          var barColors = ["#42bff5", "#ab0e7c","#db732e","orange","brown"];
  
          new Chart(ctxy, {
            type: 'bar',
            data: {
              labels: ['Order', 'Product', 'User', 'Category'],
              datasets: [{
                label: '',
                data: ['{{order_count}}', '{{product_count}}', '{{user_count}}', '{{category_count}}'],
                backgroundColor: barColors,
                borderWidth: 1
              }]
            },
            options: {
              scales: {
                y: {
                  beginAtZero: true
                }
              }
            }
          });
        </script>

        <!-- order-group.// -->
      </main>
    </div>
    <!-- row.// -->
  </div> 
</section>


        

{% endblock %}