{% extends 'admin/adminbase.html' %} {% block content %}

<!-- ========================= SECTION CONTENT ========================= -->
<!-- ========================= SECTION CONTENT ========================= -->
<section class="section-conten padding-y bg">
  <div class="container">
    <div class="row">
      {% include 'admin/adminincludes/admindashboard.html' %}
      <main class="col-md-9">
        <div class="d-flex justify-content-between">
          <a href="{% url 'add_product' %}"><button type="button" class="btn btn-success">Add Product</button></a>
          <form action="" class="search" method="POST">
            {% csrf_token %}
            <div class="input-group w-100">
                <input type="text" class="form-control" style="width:60%;" placeholder="Search" name="keyword">
                
                <div class="input-group-append">
                  <button class="btn btn-primary" type="submit">
                    <i class="fa fa-search"></i>
                  </button>
                </div>
            </div>
        </form> <!-- search-wrap .end// -->
      </div>
        
          
    
            {% for m in messages %}
            <div class="alert alert-danger" role="alert">{{m}}</div>
            {% endfor %}

        <table class="table">
          <thead>
            <tr>
              <th scope="col">#</th>
              <th scope="col">Product Name </th>
              <th scope="col">Product Price</th>
              <th scope="col">Stock</th>
              <th scope="col">Category</th>

            
             
          </thead>
          <tbody>
              {% for product in products  %}
            <tr>
              <th scope="row">{{forloop.counter}}</th>
              <td>{{product.product_name}}</td>
              <td>{{product.price}}</td>
              <td>{{product.stock}}</td>
              <td>{{product.category}}</td>
             
              <td><a href="{% url 'product_edit' product.id %}"><button type="button" class="btn btn-secondary"> Edit </button></a></td>
              <td><a href="{% url 'product_delete' product.id %}" onclick="return confirm('Are you sure you want to delete this product?')"><button type="button" class="btn btn-danger">Delete</button></a></td>
              
            </tr>
            {% endfor %}
          </tbody>
          
        </table>
        <nav class="mt-4" aria-label="Page navigation sample">
          {% if products.has_other_pages %}
        <ul class="pagination">
          {% if products.has_previous %}
          <li class="page-item "><a class="page-link" href="?page={{products.previous_page_number}}">Previous</a></li>
          {% else %}
          <li class="page-item disabled"><a class="page-link" href="#">Previous</a></li>
          {% endif %}
        
          {% for i in products.paginator.page_range %}
          {% if products.number == i  %}
          <li class="page-item active"><a class="page-link" href="#">{{i}}</a></li>
          {% else %}
          <li class="page-item"><a class="page-link" href="?page={{i}}">{{i}}</a></li>
          {% endif %}
          {% endfor %}
        
          {% if products.has_next %}
          <li class="page-item"><a class="page-link" href="?page={{products.next_page_number}}">Next</a></li>
          {% else %}
          <li class="page-item disabled"><a class="page-link" href="#">Next</a></li>
          {% endif %}
        </ul>
          {% endif %}
        </nav>


      </main>
    </div>
    <!-- row.// -->
  </div>
</section>
<!-- ========================= SECTION CONTENT END// ========================= -->

{% endblock %}
